<!DOCTYPE html>
<html class="light" lang="zh-Hant">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>第十屆慈濟論壇 - 善科技</title>

    <!-- Hero UI -->
    <link href="https://cdn.jsdelivr.net/npm/@heroui/themes@latest/dist/combined.min.css" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>

    <!-- PocketBase SDK -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/pocketbase@0.21.0/dist/pocketbase.umd.js"></script>

    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;500;700;900&amp;family=Noto+Sans+TC:wght@400;500;700&amp;display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />

    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#005A9C",
                        "secondary": "#FFC107",
                        "background-light": "#F8F9FA",
                        "background-dark": "#101922",
                        "text-light": "#212529",
                        "text-dark": "#F8F9FA",
                        "subtext-light": "#6c757d",
                        "subtext-dark": "#adb5bd"
                    },
                    fontFamily: {
                        "display": ["Lexend", "Noto Sans TC", "sans-serif"]
                    },
                    borderRadius: { "DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "full": "9999px" },
                },
            },
        }
    </script>
</head>

<body class="font-display bg-background-light dark:bg-background-dark text-text-light dark:text-text-dark">
    <div class="relative flex min-h-screen w-full flex-col">
        <!-- Header -->
        <header class="sticky top-0 z-50 flex items-center justify-between whitespace-nowrap border-b border-gray-200/50 dark:border-gray-700/50 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-sm px-4 sm:px-8 lg:px-16 py-3">
            <a class="flex items-center gap-3 text-text-light dark:text-text-dark" href="#">
                <div class="size-8 text-primary">
                    <svg fill="none" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_6_330)">
                            <path clip-rule="evenodd" d="M24 0.757355L47.2426 24L24 47.2426L0.757355 24L24 0.757355ZM21 35.7574V12.2426L9.24264 24L21 35.7574Z" fill="currentColor" fill-rule="evenodd"></path>
                        </g>
                        <defs>
                            <clipPath id="clip0_6_330">
                                <rect fill="white" height="48" width="48"></rect>
                            </clipPath>
                        </defs>
                    </svg>
                </div>
                <h2 class="text-xl font-bold">第十屆慈濟論壇</h2>
            </a>
            <nav class="hidden md:flex flex-1 justify-center items-center gap-8">
                <a class="text-sm font-medium hover:text-primary dark:hover:text-secondary" href="#about">關於論壇</a>
                <a class="text-sm font-medium hover:text-primary dark:hover:text-secondary" href="#schedule">論壇議程</a>
                <a class="text-sm font-medium hover:text-primary dark:hover:text-secondary" href="#speakers">主講嘉賓</a>
                <a class="text-sm font-medium hover:text-primary dark:hover:text-secondary" href="#register">報名</a>
            </nav>
            <a class="flex min-w-[84px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-primary text-white text-sm font-bold shadow-sm hover:bg-primary/90 transition-colors" href="#register">
                <span class="truncate">立即報名</span>
            </a>
        </header>

        <main class="flex flex-col items-center">
            <div class="w-full max-w-7xl px-4 sm:px-6 lg:px-8">
                <!-- Hero Section -->
                <section class="py-16 md:py-24" id="hero">
                    <div class="flex min-h-[480px] flex-col gap-6 items-center justify-center text-center p-8 rounded-xl bg-gradient-to-br from-blue-600 to-cyan-500">
                        <div class="flex flex-col gap-4">
                            <h1 class="text-white text-5xl md:text-6xl font-black tracking-tight">第十屆慈濟論壇</h1>
                            <h2 class="text-white text-3xl md:text-4xl font-bold">善科技</h2>
                            <p class="text-gray-100 text-lg md:text-xl max-w-3xl mx-auto mt-4">
                                Technology for Goodness
                            </p>
                            <div class="flex flex-col sm:flex-row gap-4 items-center justify-center mt-4">
                                <div class="flex items-center gap-2 text-white">
                                    <span class="material-symbols-outlined">calendar_today</span>
                                    <span>2025年12月4-5日</span>
                                </div>
                                <div class="flex items-center gap-2 text-white">
                                    <span class="material-symbols-outlined">location_on</span>
                                    <span>香港恒生大學 & 慈濟基金會</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- About Section -->
                <section class="py-16 md:py-24" id="about">
                    <h2 class="text-3xl font-bold tracking-tight text-center mb-8">論壇主題</h2>
                    <div class="prose prose-lg dark:prose-invert max-w-4xl mx-auto">
                        <p class="text-subtext-light dark:text-subtext-dark leading-relaxed">
                            在當今世界，我們面臨著一系列相互關聯且複雜的挑戰：氣候變遷導致的極端災害、資源分配的持續不平等、惡化的人道危機，以及人工智慧和數位科技快速發展所帶來的倫理困境。這些「棘手問題」已無法再由單一部門或組織有效解決，而需要整合性、跨學科的思維和協作性的解決方案。
                        </p>
                        <p class="text-subtext-light dark:text-subtext-dark leading-relaxed mt-4">
                            「善科技」強調將關懷、同理心和倫理考量融入科技應用中。無論是在災害應對、醫療保健、公平教育還是環境永續發展方面，倫理地使用科技並造福社會，都是促進跨部門合作和解決人類面臨緊迫挑戰的重要途徑。
                        </p>
                    </div>

                    <!-- Organizers -->
                    <div class="mt-12 grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="text-center p-6 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700">
                            <h3 class="font-bold text-lg mb-2">主辦單位</h3>
                            <p class="text-subtext-light dark:text-subtext-dark">慈濟慈善事業基金會</p>
                        </div>
                        <div class="text-center p-6 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700">
                            <h3 class="font-bold text-lg mb-2">協辦單位</h3>
                            <p class="text-subtext-light dark:text-subtext-dark">香港恒生大學<br/>善經濟協會</p>
                        </div>
                        <div class="text-center p-6 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700">
                            <h3 class="font-bold text-lg mb-2">支持單位</h3>
                            <p class="text-subtext-light dark:text-subtext-dark text-sm">大愛媒體<br/>浙江大學善文明研究中心<br/>善經濟學會</p>
                        </div>
                    </div>
                </section>

                <!-- Schedule Section (Dynamic) -->
                <section class="py-16 md:py-24" id="schedule">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl font-bold tracking-tight">論壇議程</h2>
                        <p class="text-subtext-light dark:text-subtext-dark mt-4 max-w-3xl mx-auto">
                            兩天精彩的專題演講與圓桌討論
                        </p>
                    </div>

                    <!-- Loading Indicator -->
                    <div id="schedule-loading" class="text-center py-8">
                        <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>
                        <p class="mt-4 text-subtext-light dark:text-subtext-dark">載入議程中...</p>
                    </div>

                    <!-- Schedule Container -->
                    <div id="schedule-container" class="hidden space-y-8"></div>
                </section>

                <!-- Register Section -->
                <section class="py-16 md:py-24" id="register">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl font-bold tracking-tight">報名參加</h2>
                        <p class="text-subtext-light dark:text-subtext-dark mt-4 max-w-3xl mx-auto">
                            歡迎學術界、研究界、公共服務、產業界及非政府組織的領導者報名參加
                        </p>
                    </div>
                    <div class="max-w-2xl mx-auto bg-white dark:bg-gray-800 p-8 rounded-xl border border-gray-200 dark:border-gray-700">
                        <form id="register-form" class="space-y-6">
                            <div>
                                <label class="block text-sm font-medium mb-2" for="name">姓名 *</label>
                                <input required class="w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-primary focus:ring-primary" id="name" name="name" type="text" />
                            </div>
                            <div>
                                <label class="block text-sm font-medium mb-2" for="email">電子郵件 *</label>
                                <input required class="w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-primary focus:ring-primary" id="email" name="email" type="email" />
                            </div>
                            <div>
                                <label class="block text-sm font-medium mb-2" for="organization">機構/組織</label>
                                <input class="w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-primary focus:ring-primary" id="organization" name="organization" type="text" />
                            </div>
                            <div>
                                <label class="block text-sm font-medium mb-2" for="title">職稱</label>
                                <input class="w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-primary focus:ring-primary" id="title" name="title" type="text" />
                            </div>
                            <div>
                                <label class="block text-sm font-medium mb-2" for="message">備註</label>
                                <textarea class="w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-primary focus:ring-primary" id="message" name="message" rows="4"></textarea>
                            </div>
                            <div>
                                <button class="w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-bold text-white bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-colors" type="submit">
                                    提交報名
                                </button>
                            </div>
                        </form>
                    </div>
                </section>
            </div>
        </main>

        <footer class="w-full bg-gray-100 dark:bg-gray-900 mt-24">
            <div class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8 text-center text-sm text-subtext-light dark:text-subtext-dark">
                <p>© 2025 第十屆慈濟論壇. All Rights Reserved.</p>
                <div class="mt-4 flex justify-center space-x-6">
                    <a class="hover:text-primary dark:hover:text-secondary" href="#">隱私權政策</a>
                    <a class="hover:text-primary dark:hover:text-secondary" href="#">服務條款</a>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // 初始化 PocketBase
        const pb = new PocketBase('http://127.0.0.1:8090');

        // 載入議程
        async function loadSchedule() {
            try {
                const scheduleLoading = document.getElementById('schedule-loading');
                const scheduleContainer = document.getElementById('schedule-container');

                // 獲取議程資料
                const records = await pb.collection('schedule').getFullList({
                    sort: 'date,start_time',
                });

                // 按日期分組
                const scheduleByDate = {};
                records.forEach(record => {
                    if (!scheduleByDate[record.date]) {
                        scheduleByDate[record.date] = [];
                    }
                    scheduleByDate[record.date].push(record);
                });

                // 渲染議程
                let html = '';
                for (const [date, items] of Object.entries(scheduleByDate)) {
                    const dateObj = new Date(date);
                    const dayNames = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'];
                    const dayName = dayNames[dateObj.getDay()];

                    html += `
                        <div class="bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden">
                            <div class="bg-primary text-white px-6 py-4">
                                <h3 class="text-xl font-bold">${dateObj.toLocaleDateString('zh-TW')} (${dayName})</h3>
                            </div>
                            <div class="divide-y divide-gray-200 dark:divide-gray-700">
                    `;

                    items.forEach(item => {
                        html += `
                            <div class="p-6 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors">
                                <div class="flex flex-col md:flex-row gap-4">
                                    <div class="md:w-32 flex-shrink-0">
                                        <span class="inline-block px-3 py-1 bg-secondary/20 text-yellow-700 dark:text-secondary rounded-full text-sm font-semibold">
                                            ${item.start_time}${item.end_time ? ' - ' + item.end_time : ''}
                                        </span>
                                    </div>
                                    <div class="flex-1">
                                        <h4 class="text-lg font-bold mb-2">${item.title}</h4>
                                        ${item.type ? `<span class="inline-block px-2 py-1 bg-primary/10 text-primary dark:text-secondary text-xs rounded mb-2">${item.type}</span>` : ''}
                                        ${item.host ? `<p class="text-sm text-subtext-light dark:text-subtext-dark mb-1"><strong>主持：</strong>${item.host}</p>` : ''}
                                        ${item.speakers ? `<p class="text-sm text-subtext-light dark:text-subtext-dark"><strong>講者：</strong>${item.speakers}</p>` : ''}
                                        ${item.description ? `<p class="text-sm text-subtext-light dark:text-subtext-dark mt-2">${item.description}</p>` : ''}
                                    </div>
                                </div>
                            </div>
                        `;
                    });

                    html += `
                            </div>
                        </div>
                    `;
                }

                scheduleContainer.innerHTML = html;
                scheduleLoading.classList.add('hidden');
                scheduleContainer.classList.remove('hidden');

            } catch (error) {
                console.error('載入議程失敗:', error);
                document.getElementById('schedule-loading').innerHTML = `
                    <div class="text-center text-red-600 dark:text-red-400">
                        <p>載入議程失敗</p>
                        <p class="text-sm mt-2">${error.message}</p>
                    </div>
                `;
            }
        }

        // 處理報名表單提交
        const registerForm = document.getElementById('register-form');
        registerForm.addEventListener('submit', async (e) => {
            e.preventDefault();

            const formData = {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                organization: document.getElementById('organization').value,
                title: document.getElementById('title').value,
                message: document.getElementById('message').value
            };

            try {
                const record = await pb.collection('registrations').create(formData);
                alert('報名成功！我們會盡快與您聯繫。');
                registerForm.reset();
            } catch (error) {
                console.error('提交失敗:', error);
                alert('提交失敗，請稍後再試。錯誤: ' + error.message);
            }
        });

        // 頁面載入時執行
        document.addEventListener('DOMContentLoaded', () => {
            loadSchedule();
        });
    </script>
</body>

</html>

